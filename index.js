import{a as b,i as a,S as v}from"./assets/vendor-DEenWwFD.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const S="48983342-f944feb478e2b8c4cd8b85956",E="https://pixabay.com/api/",f=async(e,t=1,o=40)=>{if(!e.trim())throw new Error("Search query cannot be empty.");try{const{data:n}=await b.get(E,{params:{key:S,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:o}});return n}catch(n){throw console.error("Error fetching images:",n.message),n}},g=(e,t=!1)=>{const o=document.querySelector(".gallery");if(t||(o.innerHTML=""),!e||e.length===0){a.error({message:"Sorry, there are no images matching your search query. Please try again!"});return}const n=e.map(q);o.append(...n),new v(".gallery a").refresh()},q=e=>{const t=document.createElement("div");t.classList.add("photo-card");const o=document.createElement("a");o.href=e.largeImageURL;const n=document.createElement("img");n.src=e.webformatURL,n.alt=e.tags;const r=document.createElement("div");r.classList.add("info");const s=l("Likes",e.likes),i=l("Views",e.views),L=l("Comments",e.comments),w=l("Downloads",e.downloads);return r.append(s,i,L,w),o.appendChild(n),t.append(o,r),t},l=(e,t)=>{const o=document.createElement("p");return o.innerHTML=`<b>${e}:</b> ${t}`,o},p=()=>{const e=document.querySelector(".loader");e.textContent="Loading...",e.classList.add("visible")},y=()=>{document.querySelector(".loader").classList.remove("visible")},I=document.querySelector("#search-form"),P=document.querySelector("#search-input"),u=document.querySelector("#load-more");let d="",c=1;const h=40;let m=0;const x=async e=>{if(e.preventDefault(),d=P.value.trim(),!d){a.warning({message:"Please enter a search term."});return}c=1,u.classList.add("hidden"),p();try{const t=await f(d,c,h);if(m=t.totalHits,m===0){a.info({message:"No images found. Try another keyword!"});return}g(t.hits),c*h<m&&u.classList.remove("hidden")}catch(t){a.error({message:`Something went wrong: ${t.message}`})}finally{y()}},C=async()=>{c++,p();try{const e=await f(d,c,h);g(e.hits,!0),O(),c*h>=m&&(u.classList.add("hidden"),a.info({message:"We're sorry, but you've reached the end of search results."}))}catch(e){a.error({message:`Something went wrong: ${e.message}`})}finally{y()}},O=()=>{const e=document.querySelector(".gallery .photo-card");if(e){const t=e.getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}};I.addEventListener("submit",x);u.addEventListener("click",C);
//# sourceMappingURL=index.js.map
